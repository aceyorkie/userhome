<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organization</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="DTP.css">
    <style>
        #joincontainer {
            font-family: "Montserrat", sans-serif;
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 20px;
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            z-index: 1000;
            text-align: center;
        }
        #joincontainer input {   
            margin-top: 10px;
            padding: 8px;
            width: 80%;
        }
        #joincontainer button {
            margin-top: 10px;
            padding: 10px 20px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }
        #joincontainer .ok-button {
            background-color: maroon;
            color: white;
        }
        #joincontainer .cancel-button {
            background-color: #ccc;
            color: black;
        }
        #overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }
    
    </style>
</head>
<body>
    <nav>
        <div class="nav-left">
          <img src="greetings/umdc-logo.png" alt="Logo" class="logo">
        </div>
        <div class="nav-center">
            <a href="#profile" onclick="profile()">Dashboard</a> 
            <a href="#organizations" onclick="org()">Academic</a>
            <a href="nonacad.html">Non-Acadademic</a>
            <a href="#about" onclick="about()">About</a>
        </div>
        <div class="nav-right">
        <button class="button">
        <svg viewBox="0 0 448 512" class="bell"><path d="M224 0c-17.7 0-32 14.3-32 32V49.9C119.5 61.4 64 124.2 64 200v33.4c0 45.4-15.5 89.5-43.8 124.9L5.3 377c-5.8 7.2-6.9 17.1-2.9 25.4S14.8 416 24 416H424c9.2 0 17.6-5.3 21.6-13.6s2.9-18.2-2.9-25.4l-14.9-18.6C399.5 322.9 384 278.8 384 233.4V200c0-75.8-55.5-138.6-128-150.1V32c0-17.7-14.3-32-32-32zm0 96h8c57.4 0 104 46.6 104 104v33.4c0 47.9 13.9 94.6 39.7 134.6H72.3C98.1 328 112 281.3 112 233.4V200c0-57.4 46.6-104 104-104h8zm64 352H224 160c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7s18.7-28.3 18.7-45.3z"></path></svg>
        </button>
        </div>
    </nav>
    
    <div class="body-container">
        <div class="text2">
            <h3 class="org">ENGLISH</h3>
            <h2 class="descrip">Academic</h2>
            <h1 class="rep">organizations</h1>
            <h3 class="what">Introducing ENG Organizations: a student resource for essential skills, <br> career readiness, and tailored support. </h3>
        </div>
        <div class="square-container">
            <h2 class="Organization">Society of English Language Learners<br>(SELL)</h2>
            <button class="view-button animated-button" onclick="openAboutOrganization('descriptionBox1')">
                <span>About</span>
            </button>
            <button class="view-button animated-button" onclick="openJoinContainer('SELL')">
                <span>Join</span>
            </button>
            
        </div>
        
        
    </div> 

    <div id="overlay"></div>
    <div id="joincontainer">
        <p>Enter your ID NO. to join <span id="orgName"></span>:</p>
        <input type="text" id="idNoInput" placeholder="Your ID number">
        <br>
        <button class="ok-button" onclick="submitJoinContainer()">OK</button>
        <button class="cancel-button" onclick="closeJoinContainer()">Cancel</button>
    </div>

    <div id="descriptionBox1" class="aboutcontainer">
        <div class="circle-container">
            <div class="circle">
                <!-- <img src="org_logo/gmits_logo.jpg"> -->
            </div>
            <div> 
                <h1 class="orgname">SELL</h1>
                <h3 class="orgdes"> The Society of English Language Learners (SELL) is a student organization focused on supporting individuals who are learning or improving their proficiency in the English language. </h3>
                <h1 class="orgname">LEADERS</h1>
            </div>
            <button class="cancel-button" onclick="closeAboutContainer()">Close</button>
        </div>
    </div>
    

    <footer>
        <div class="footer-left">
           <p>&copy; 2024 AJNova Platforms. All rights reserved.</p>
        </div>
        <div class="footer-content">
             <img src="greetings/footerlogo.png" alt="Logo" class="logo">  
        </div>
        <div class="footer-right">
            <a href="#home" onclick="home()">Home</a>
            <a href="#organizations" onclick="org()">Organizations</a>
            <a href="#about" onclick="about()">About</a>
            <a href="#profile" onclick="profile()">Profile</a>
        </div>
    </footer>

    <script>
        function home() {
            window.location.href = 'HomePage.php';
        }
        function org() {
            window.location.href = 'DTP.html';
        }
        function profile() {
            window.location.href = 'profile.php'; 
        }
        // function aboutOrganization(descriptionBoxId) {
        //     document.getElementById(descriptionBoxId).style.display = 'block';
        // }
        // function closeBox(boxId) {
        //     document.getElementById(boxId).style.display = 'none';
        // }

        function openAboutOrganization(descriptionBoxID) {
            document.getElementById('overlay').style.display = 'block';

        document.querySelectorAll('.aboutcontainer').forEach(container => {
            container.style.display = 'none';
        });

        document.getElementById(descriptionBoxID).style.display = 'block';
        }

        function closeAboutContainer() {
            document.getElementById('overlay').style.display = 'none';

            document.querySelectorAll('.aboutcontainer').forEach(container => {
                container.style.display = 'none';
            });
        }


        function openJoinContainer(organizationName) {
            document.getElementById('orgName').innerText = organizationName;
            document.getElementById('overlay').style.display = 'block';
            document.getElementById('joincontainer').style.display = 'block';
        }

        function closeJoinContainer() {
            document.getElementById('overlay').style.display = 'none';
            document.getElementById('joincontainer').style.display = 'none';
        }

        function submitJoinContainer() {
            let id_no = document.getElementById('idNoInput').value.trim();
            let organizationName = document.getElementById('orgName').innerText.trim();

            if (id_no && organizationName) {
                console.log("Submitting:", { id_no, organizationName });
                var xhr = new XMLHttpRequest();
                xhr.open("POST", "join_organization.php", true);
                xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

                xhr.onreadystatechange = function() {
                    if (xhr.readyState == 4 && xhr.status == 200) {
                        alert(xhr.responseText);
                        closeJoinContainer();
                    }
                };

                xhr.send(`id_no=${encodeURIComponent(id_no)}&organization=${encodeURIComponent(organizationName)}`);
            } else {
                alert("Please fill in all the required fields.");
            }
        }
    </script>
</body>
</html>